{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nconst _c0 = function (a0) {\n  return [a0];\n};\nfunction UsersPage_a_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 10)(1, \"ion-row\")(2, \"ion-col\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"ion-col\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"ion-col\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"ion-col\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const user_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(5, _c0, user_r1.dni));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(user_r1.nom);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r1.cognom);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r1.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(user_r1.dni);\n  }\n}\nconst _c1 = function (a0) {\n  return {\n    \"display\": a0\n  };\n};\nexport class UsersPage {\n  constructor(router) {\n    this.router = router;\n    this.users = [];\n    this.usersFilter = [];\n    this.usersFinal = [];\n    this.p = 1;\n    this.clickState = 0;\n    this.lastClick = 0;\n    this.users = JSON.parse(localStorage.getItem('users') || \"[]\");\n    this.usersFilter = this.users;\n    this.usersFinal = this.users;\n  }\n  ngOnInit() {\n    this.sortUsers(1);\n  }\n  //ORDENACIÓ\n  //1 = nom, 2 = cognom, 3 = email, 4 = dni\n  //1 = asc, -1 = desc\n  sortUsers(col) {\n    if (col == this.lastClick) {\n      if (this.clickState == 2) {\n        this.clickState = 1;\n        this.usersFilter.sort((a, b) => this.ret(a) > this.ret(b) ? 1 : -1);\n      } else {\n        this.clickState = 2;\n        this.usersFilter.sort((a, b) => this.ret(a) < this.ret(b) ? 1 : -1);\n      }\n    } else {\n      this.lastClick = col;\n      this.clickState = 1;\n      this.usersFilter.sort((a, b) => this.ret(a) > this.ret(b) ? 1 : -1);\n    }\n    this.usersFinal = this.usersFilter;\n  }\n  ret(elem) {\n    switch (this.lastClick) {\n      case 2:\n        return elem.cognom;\n      case 3:\n        return elem.email;\n      case 4:\n        return elem.dni;\n      default:\n        return elem.nom;\n    }\n  }\n  searchUsers(event) {\n    const query = event.target.value.toLowerCase();\n    this.usersFinal = this.usersFilter.filter(user => {\n      return user.nom.includes(query) || user.cognom.includes(query) || user.email.includes(query) || user.dni.includes(query);\n    });\n  }\n}\nUsersPage.ɵfac = function UsersPage_Factory(t) {\n  return new (t || UsersPage)(i0.ɵɵdirectiveInject(i1.Router));\n};\nUsersPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UsersPage,\n  selectors: [[\"app-users\"]],\n  decls: 29,\n  vars: 26,\n  consts: [[3, \"translucent\"], [\"slot\", \"start\"], [\"size\", \"12\"], [3, \"ionChange\"], [1, \"table\"], [1, \"table-header\"], [3, \"click\"], [\"name\", \"arrow-up\", 3, \"ngStyle\"], [\"name\", \"arrow-down\", 3, \"ngStyle\"], [\"class\", \"table-content\", 3, \"routerLink\", 4, \"ngFor\", \"ngForOf\"], [1, \"table-content\", 3, \"routerLink\"]],\n  template: function UsersPage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\")(2, \"ion-buttons\", 1);\n      i0.ɵɵelement(3, \"ion-menu-button\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"ion-title\");\n      i0.ɵɵtext(5, \"Usuaris\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(6, \"ion-toolbar\")(7, \"ion-col\", 2)(8, \"ion-searchbar\", 3);\n      i0.ɵɵlistener(\"ionChange\", function UsersPage_Template_ion_searchbar_ionChange_8_listener($event) {\n        return ctx.searchUsers($event);\n      });\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(9, \"ion-content\")(10, \"ion-grid\", 4)(11, \"ion-row\", 5)(12, \"ion-col\", 6);\n      i0.ɵɵlistener(\"click\", function UsersPage_Template_ion_col_click_12_listener() {\n        return ctx.sortUsers(1);\n      });\n      i0.ɵɵtext(13, \" Nom \");\n      i0.ɵɵelement(14, \"ion-icon\", 7)(15, \"ion-icon\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"ion-col\", 6);\n      i0.ɵɵlistener(\"click\", function UsersPage_Template_ion_col_click_16_listener() {\n        return ctx.sortUsers(2);\n      });\n      i0.ɵɵtext(17, \" Cognom \");\n      i0.ɵɵelement(18, \"ion-icon\", 7)(19, \"ion-icon\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"ion-col\", 6);\n      i0.ɵɵlistener(\"click\", function UsersPage_Template_ion_col_click_20_listener() {\n        return ctx.sortUsers(3);\n      });\n      i0.ɵɵtext(21, \" Email \");\n      i0.ɵɵelement(22, \"ion-icon\", 7)(23, \"ion-icon\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"ion-col\", 6);\n      i0.ɵɵlistener(\"click\", function UsersPage_Template_ion_col_click_24_listener() {\n        return ctx.sortUsers(4);\n      });\n      i0.ɵɵtext(25, \" DNI \");\n      i0.ɵɵelement(26, \"ion-icon\", 7)(27, \"ion-icon\", 8);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(28, UsersPage_a_28_Template, 10, 7, \"a\", 9);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"translucent\", true);\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(10, _c1, ctx.lastClick == 1 ? ctx.clickState == 1 ? \"\" : \"none\" : \"none\"));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(12, _c1, ctx.lastClick == 1 ? ctx.clickState == 2 ? \"\" : \"none\" : \"none\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(14, _c1, ctx.lastClick == 2 ? ctx.clickState == 1 ? \"\" : \"none\" : \"none\"));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(16, _c1, ctx.lastClick == 2 ? ctx.clickState == 2 ? \"\" : \"none\" : \"none\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(18, _c1, ctx.lastClick == 3 ? ctx.clickState == 1 ? \"\" : \"none\" : \"none\"));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(20, _c1, ctx.lastClick == 3 ? ctx.clickState == 2 ? \"\" : \"none\" : \"none\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(22, _c1, ctx.lastClick == 4 ? ctx.clickState == 1 ? \"\" : \"none\" : \"none\"));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(24, _c1, ctx.lastClick == 4 ? ctx.clickState == 2 ? \"\" : \"none\" : \"none\"));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.usersFinal);\n    }\n  },\n  styles: [\".table[_ngcontent-%COMP%] {\\n  width: 90%;\\n  max-height: calc(100% - 55px);\\n  overflow: scroll;\\n}\\n.table[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-of-type   ion-row[_ngcontent-%COMP%] {\\n  border-radius: 0 0 5px 5px;\\n}\\n\\n.table-header[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%] {\\n  background-color: grey;\\n  text-align: center;\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-evenly;\\n}\\n.table-header[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]:first-of-type {\\n  border-top-left-radius: 5px;\\n}\\n.table-header[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]:last-of-type {\\n  border-top-right-radius: 5px;\\n}\\n\\n.table-content[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%] {\\n  overflow: auto;\\n}\\n\\na.table-content[_ngcontent-%COMP%]:nth-child(even)   ion-row[_ngcontent-%COMP%] {\\n  background-color: #6b6b6b;\\n}\\n\\na.table-content[_ngcontent-%COMP%]:nth-child(odd)   ion-row[_ngcontent-%COMP%] {\\n  background-color: #555555;\\n}\\n\\na[_ngcontent-%COMP%] {\\n  text-decoration: none;\\n  color: inherit;\\n}\\n\\n  .ngx-pagination {\\n  padding: 0;\\n}\\n  .ngx-pagination a {\\n  text-decoration: none;\\n  color: inherit !important;\\n}\\n\\n.pagination-end[_ngcontent-%COMP%] {\\n  position: fixed;\\n  bottom: 0px;\\n  left: 0;\\n  right: 0;\\n  text-align: center;\\n}\\n\\n.download[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%] {\\n  width: 75%;\\n  height: 80%;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvdXNlcnMvdXNlcnMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksVUFBQTtFQUNBLDZCQUFBO0VBQ0EsZ0JBQUE7QUFDSjtBQUVRO0VBQ0ksMEJBQUE7QUFBWjs7QUFPSTtFQUNJLHNCQUFBO0VBQ0Esa0JBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSw2QkFBQTtBQUpSO0FBT0k7RUFDSSwyQkFBQTtBQUxSO0FBUUk7RUFDSSw0QkFBQTtBQU5SOztBQVVBO0VBQ0ksY0FBQTtBQVBKOztBQVVBO0VBQ0kseUJBQUE7QUFQSjs7QUFVQTtFQUNJLHlCQUFBO0FBUEo7O0FBVUE7RUFDSSxxQkFBQTtFQUNBLGNBQUE7QUFQSjs7QUFVQTtFQUNJLFVBQUE7QUFQSjtBQVNJO0VBQ0MscUJBQUE7RUFDQSx5QkFBQTtBQVBMOztBQVdBO0VBQ0ksZUFBQTtFQUNBLFdBQUE7RUFDQSxPQUFBO0VBQ0EsUUFBQTtFQUNBLGtCQUFBO0FBUko7O0FBWUk7RUFDSSxVQUFBO0VBQ0EsV0FBQTtBQVRSIiwic291cmNlc0NvbnRlbnQiOlsiLnRhYmxlIHtcbiAgICB3aWR0aDogOTAlO1xuICAgIG1heC1oZWlnaHQ6IGNhbGMoMTAwJSAtIDU1cHgpO1xuICAgIG92ZXJmbG93OiBzY3JvbGw7XG5cbiAgICBhOmxhc3Qtb2YtdHlwZSB7XG4gICAgICAgIGlvbi1yb3cge1xuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMCAwIDVweCA1cHg7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi50YWJsZS1oZWFkZXIgeyBcblxuICAgIGlvbi1jb2wge1xuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBncmV5O1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtZXZlbmx5O1xuICAgIH1cblxuICAgIGlvbi1jb2w6Zmlyc3Qtb2YtdHlwZXtcbiAgICAgICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogNXB4O1xuICAgIH1cblxuICAgIGlvbi1jb2w6bGFzdC1vZi10eXBle1xuICAgICAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogNXB4O1xuICAgIH1cbn1cblxuLnRhYmxlLWNvbnRlbnQgaW9uLWNvbCB7XG4gICAgb3ZlcmZsb3c6IGF1dG87XG59XG5cbmEudGFibGUtY29udGVudDpudGgtY2hpbGQoZXZlbikgaW9uLXJvdyB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzZiNmI2Yjtcbn1cblxuYS50YWJsZS1jb250ZW50Om50aC1jaGlsZChvZGQpIGlvbi1yb3cge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICM1NTU1NTU7XG59XG5cbmEge1xuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICBjb2xvcjogaW5oZXJpdDtcbn1cblxuOjpuZy1kZWVwIC5uZ3gtcGFnaW5hdGlvbiB7XG4gICAgcGFkZGluZzogMDtcblxuICAgIGEge1xuXHQgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuXHQgICAgY29sb3I6IGluaGVyaXQhaW1wb3J0YW50O1xuICAgIH1cbn1cblxuLnBhZ2luYXRpb24tZW5kIHtcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgYm90dG9tOiAwcHg7XG4gICAgbGVmdDogMDtcbiAgICByaWdodDogMDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5kb3dubG9hZCB7XG4gICAgaW9uLWljb24ge1xuICAgICAgICB3aWR0aDogNzUlO1xuICAgICAgICBoZWlnaHQ6IDgwJTtcbiAgICB9XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","UsersPage","constructor","router","users","JSON","parse","localStorage","getItem","usersFilter","usersFinal","ngOnInit","sortUsers","col","lastClick","clickState","sort","a","b","ret","elem","cognom","email","dni","nom","searchUsers","event","query","target","value","toLowerCase","filter","user","includes","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/llucgimenez/Documents/atheneaSolutionsTest/athenea-test-app/src/app/pages/users/users.page.html","/Users/llucgimenez/Documents/atheneaSolutionsTest/athenea-test-app/src/app/pages/users/users.page.ts"],"sourcesContent":["<ion-header [translucent]=\"true\">\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-menu-button></ion-menu-button>\n    </ion-buttons>\n    <ion-title>Usuaris</ion-title>\n  </ion-toolbar>\n  <ion-toolbar>\n    <ion-col size=\"12\">\n      <ion-searchbar (ionChange)=\"searchUsers($event)\"></ion-searchbar>\n    </ion-col>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <ion-grid class=\"table\">\n    <ion-row class=\"table-header\">\n      <ion-col (click)=\"sortUsers(1)\">\n        Nom\n        <ion-icon name=\"arrow-up\" [ngStyle]=\"{'display': (lastClick == 1) ? ((clickState == 1) ? '' : 'none') : 'none'}\" />\n        <ion-icon name=\"arrow-down\"[ngStyle]=\"{'display': (lastClick == 1) ? ((clickState == 2) ? '' : 'none') : 'none'}\" />\n      </ion-col>\n      <ion-col (click)=\"sortUsers(2)\">\n        Cognom\n        <ion-icon name=\"arrow-up\" [ngStyle]=\"{'display': (lastClick == 2) ? ((clickState == 1) ? '' : 'none') : 'none'}\" />\n        <ion-icon name=\"arrow-down\"[ngStyle]=\"{'display': (lastClick == 2) ? ((clickState == 2) ? '' : 'none') : 'none'}\" />\n      </ion-col>\n      <ion-col (click)=\"sortUsers(3)\">\n        Email\n        <ion-icon name=\"arrow-up\" [ngStyle]=\"{'display': (lastClick == 3) ? ((clickState == 1) ? '' : 'none') : 'none'}\" />\n        <ion-icon name=\"arrow-down\"[ngStyle]=\"{'display': (lastClick == 3) ? ((clickState == 2) ? '' : 'none') : 'none'}\" />\n      </ion-col>\n      <ion-col (click)=\"sortUsers(4)\">\n        DNI\n        <ion-icon name=\"arrow-up\" [ngStyle]=\"{'display': (lastClick == 4) ? ((clickState == 1) ? '' : 'none') : 'none'}\" />\n        <ion-icon name=\"arrow-down\"[ngStyle]=\"{'display': (lastClick == 4) ? ((clickState == 2) ? '' : 'none') : 'none'}\" />\n      </ion-col>\n    </ion-row>\n    <a [routerLink]=\"[user.dni]\" *ngFor=\"let user of usersFinal\" class=\"table-content\">\n      <ion-row>\n        <ion-col>{{user.nom}}</ion-col>\n        <ion-col>{{user.cognom}}</ion-col>\n        <ion-col>{{user.email}}</ion-col>\n        <ion-col>{{user.dni}}</ion-col>\n      </ion-row>\n    </a>\n  </ion-grid>\n  <!-- <pagination-controls (pageChange)=\"p = $event\" class=\"pagination-end\"></pagination-controls> -->\n</ion-content>\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { User } from '../../models/user';\n\n@Component({\n  selector: 'app-users',\n  templateUrl: './users.page.html',\n  styleUrls: ['./users.page.scss'],\n})\nexport class UsersPage implements OnInit {\n  \n  users: User[] = [];\n  usersFilter: User[] = [];\n  usersFinal: User[] = [];\n  p: number = 1;\n  clickState = 0;\n  lastClick = 0;\n\n  constructor(public router: Router) {\n    this.users = JSON.parse(localStorage.getItem('users') || \"[]\");\n    this.usersFilter = this.users;\n    this.usersFinal = this.users;\n  }\n\n  ngOnInit() {\n    this.sortUsers(1);\n  }\n  \n  //ORDENACIÓ\n  //1 = nom, 2 = cognom, 3 = email, 4 = dni\n  //1 = asc, -1 = desc\n  sortUsers(col: number) {\n    if (col == this.lastClick) {\n      if (this.clickState == 2) {\n        this.clickState = 1;\n        this.usersFilter.sort((a, b) => (this.ret(a) > this.ret(b)) ? 1 : -1);\n      } else {\n        this.clickState = 2;\n        this.usersFilter.sort((a, b) => (this.ret(a) < this.ret(b)) ? 1 : -1);\n      }\n    } else {\n      this.lastClick = col;\n      this.clickState = 1;\n      this.usersFilter.sort((a, b) => (this.ret(a) > this.ret(b)) ? 1 : -1);\n    }\n\n    this.usersFinal = this.usersFilter;\n  }\n\n  ret(elem: User) {\n    switch (this.lastClick) {\n      case 2:\n        return elem.cognom;\n      case 3:\n        return elem.email;\n      case 4:\n        return elem.dni;\n      default:\n        return elem.nom;\n    }\n  }\n\n  searchUsers(event: any) {\n    const query = event.target.value.toLowerCase();\n    this.usersFinal = this.usersFilter.filter(user => {return user.nom.includes(query) || user.cognom.includes(query) || user.email.includes(query) || user.dni.includes(query)});\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}